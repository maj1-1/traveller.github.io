<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Traveller Resources</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Navbar with dropdown on top-right -->
  <nav class="navbar">
    <div class="dropdown">
      <button class="dropbtn">Resources â–¼</button>
      <div class="dropdown-content">
        <a href="https://drive.google.com/file/d/14cZoU5pBPdTB0dIoWjw1R42EPq9MzylB/view?usp=drive_link" target="_blank">Handbook</a>
        <a href="https://travellermap.com/" target="_blank">TravellerMap</a>
        <a href="TravellerPlayerCaleb.pdf" target="_blank">TravellerPlayerCaleb</a>
      </div>
    </div>
  </nav>

  <!-- Star backgrounds -->
  <div class="stars"></div>
  <div class="stars2"></div>

  <div class="content">
    <div class="logo-container">
      <img src="travellerlogo.png" alt="Traveller Logo" class="logo" />
    </div>

    <!-- Embedded Traveller Map -->
    <div class="map-container">
      <iframe 
          src="https://travellermap.com/" 
          width="100%" 
          height="800" 
          style="border:none;" 
          loading="lazy">
      </iframe>
    </div>
  </div>

  <script>
    // Twinkling stars
    const starsContainer = document.createElement('div');
    starsContainer.style.position = 'fixed';
    starsContainer.style.top = '0';
    starsContainer.style.left = '0';
    starsContainer.style.width = '100%';
    starsContainer.style.height = '100%';
    starsContainer.style.pointerEvents = 'none';
    starsContainer.style.zIndex = '-1';
    document.body.appendChild(starsContainer);

    function createTwinkle() {
      const star = document.createElement('div');
      const size = Math.random() * 2 + 1;
      star.style.position = 'absolute';
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      star.style.borderRadius = '50%';
      star.style.background = 'white';
      star.style.opacity = '0';
      star.style.top = Math.random() * 100 + 'vh';
      star.style.left = Math.random() * 100 + 'vw';
      star.style.transition = 'opacity 1.5s ease-in-out';

      starsContainer.appendChild(star);

      setTimeout(() => star.style.opacity = 1, 50);
      setTimeout(() => star.style.opacity = 0, 1500);
      setTimeout(() => starsContainer.removeChild(star), 3000);
    }

    setInterval(createTwinkle, 150);

    // Shooting stars left/right, slow and random vertical position
    function createShootingStar() {
      const shootingStar = document.createElement('div');
      shootingStar.classList.add('shooting-star');

      shootingStar.style.top = (10 + Math.random() * 70) + 'vh';

      const leftToRight = Math.random() < 0.5;

      if (leftToRight) {
        shootingStar.style.left = '-120px';
        shootingStar.style.transform = 'scaleX(1)';
      } else {
        shootingStar.style.left = '100vw';
        shootingStar.style.transform = 'scaleX(-1)';
      }

      document.body.appendChild(shootingStar);
      shootingStar.style.opacity = '1';

      const distance = window.innerWidth + 240;
      const duration = 6000;

      const keyframes = leftToRight
        ? [
            { transform: 'translateX(0)', opacity: 1 },
            { transform: `translateX(${distance}px)`, opacity: 0 }
          ]
        : [
            { transform: 'translateX(0)', opacity: 1 },
            { transform: `translateX(-${distance}px)`, opacity: 0 }
          ];

      shootingStar.animate(keyframes, {
        duration: duration,
        easing: 'ease-in-out',
        fill: 'forwards',
      });

      setTimeout(() => shootingStar.remove(), duration + 100);
    }

    function shootingStarLoop() {
      createShootingStar();
      setTimeout(shootingStarLoop, 5000 + Math.random() * 3000);
    }
    shootingStarLoop();
  </script>
</body>
</html>
